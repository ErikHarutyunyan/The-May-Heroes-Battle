function playPause(){myVideo.paused?myVideo.play():myVideo.pause()}function lerp({x:t,y:e},{x:i,y:s}){const n=.1;return t+=(i-t)*n,e+=(s-e)*n,{x:t,y:e}}function autoSlide(){requestAnimationFrame(()=>{slider.next()}),timer=setTimeout(autoSlide,5e3)}function stopAutoSlide(){clearTimeout(timer),this.removeEventListener("touchstart",stopAutoSlide),this.removeEventListener("mousemove",stopAutoSlide)}var myVideo=document.getElementById("video1");$(window).load(function(){function t(){function t(){var t,e,i=$(window).width(),n=$(window).height();i/n>a?(e=i,t=e/a):(t=1.2*n,e=t*a),s.css({width:e*o+"px",height:t+"px"}),r=!1}var e=$(".nav-icon"),i=$(".cd-transition-layer"),s=i.children(),n=$(".full-menu"),a=1.78,o=25,r=!1;t(),$(window).on("resize",function(){r||(r=!0,window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,300))}),e.on("click",function(t){t.preventDefault(),i.addClass("visible opening");var e=$(".no-cssanimations").length>0?0:600;setTimeout(function(){n.addClass("visible")},e)}),n.on("click",".modal-close",function(t){t.preventDefault(),i.addClass("closing"),n.removeClass("visible"),s.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){i.removeClass("closing opening visible"),s.off("webkitAnimationEnd oanimationend msAnimationEnd animationend")})})}function e(){var t=$(".main");t.css({height:$(window).height()+"px"})}t(),e(),$(window).resize(e),$(".page-menu li:not(.social) a, .portfolio_filter ul li a").append("<span></span>"),$(".nav-icon").on("click",function(){$(this).toggleClass("modal-close")}),TweenMax.to(".loading-screen loader",2,{opacity:0,y:-60,ease:Expo.easeInOut}),TweenMax.to(".loading-screen",2,{delay:0,top:"-200%",ease:Expo.easeInOut}),TweenMax.staggerFrom(".menu-icon",1,{delay:1.1,opacity:0,y:20,ease:Expo.easeInOut},.2),TweenMax.from(".heading",2,{delay:1.4,opacity:0,y:20,ease:Expo.easeInOut}),TweenMax.from(".greeting",2,{delay:1.8,opacity:0,y:20,ease:Expo.easeInOut}),TweenMax.from(".ellipse-container",2,{delay:2,opacity:0,y:20,ease:Expo.easeInOut}),TweenMax.from(".nav-icon span",2,{delay:1.2,opacity:0,y:40,ease:Expo.easeInOut}),TweenMax.from(".nav-icon ",2,{delay:1.2,opacity:0,x:40,ease:Expo.easeInOut})});class Slider{constructor(t){const e=this.IMG_CLASS="slider__images-item",i=this.TEXT_CLASS="slider__text-item",s=this.ACTIVE_IMG_CLASS=`${e}--active`,n=this.ACTIVE_TEXT_CLASS=`${i}--active`;this.el=t,this.contentEl=document.getElementById("slider-content"),this.onMouseMove=this.onMouseMove.bind(this),this.activeImg=t.getElementsByClassName(s),this.activeText=t.getElementsByClassName(n),this.images=t.getElementsByTagName("img"),document.getElementById("slider-dots").addEventListener("click",this.onDotClick.bind(this)),document.getElementById("left").addEventListener("click",this.prev.bind(this)),document.getElementById("right").addEventListener("click",this.next.bind(this)),window.addEventListener("resize",this.onResize.bind(this)),this.onResize(),this.length=this.images.length,this.lastX=this.lastY=this.targetX=this.targetY=0}onResize(){const t=getComputedStyle(document.documentElement),e=t.getPropertyValue("--mobile-bkp"),i=this.isMobile=matchMedia(`only screen and (max-width: ${e})`).matches;this.halfWidth=innerWidth/2,this.halfHeight=innerHeight/2,this.zDistance=t.getPropertyValue("--z-distance"),i||this.mouseWatched?i&&this.mouseWatched&&(this.mouseWatched=!1,this.el.removeEventListener("mousemove",this.onMouseMove),this.contentEl.style.setProperty("transform","none")):(this.mouseWatched=!0,this.el.addEventListener("mousemove",this.onMouseMove),this.el.style.setProperty("--img-prev",`url(${this.images[+this.activeImg[0].dataset.id-1].src})`),this.contentEl.style.setProperty("transform",`translateZ(${this.zDistance})`))}getMouseCoefficients({pageX:t,pageY:e}={}){const i=this.halfWidth,s=this.halfHeight,n=((t||this.targetX)-i)/i,a=(s-(e||this.targetY))/s;return{xCoeff:n,yCoeff:a}}onMouseMove({pageX:t,pageY:e}){this.targetX=t,this.targetY=e,this.animationRunning||(this.animationRunning=!0,this.runAnimation())}runAnimation(){if(this.animationStopped)return void(this.animationRunning=!1);const t=10,e=10,i=lerp({x:this.lastX,y:this.lastY},{x:this.targetX,y:this.targetY}),{xCoeff:s,yCoeff:n}=this.getMouseCoefficients({pageX:i.x,pageY:i.y});this.lastX=i.x,this.lastY=i.y,this.positionImage({xCoeff:s,yCoeff:n}),this.contentEl.style.setProperty("transform",`\n      translateZ(${this.zDistance})\n      rotateX(${e*n}deg)\n      rotateY(${t*s}deg)\n    `),this.reachedFinalPoint?this.animationRunning=!1:requestAnimationFrame(this.runAnimation.bind(this))}get reachedFinalPoint(){const t=~~this.lastX,e=~~this.lastY,i=this.targetX,s=this.targetY;return!(t!=i&&t-1!=i&&t+1!=i||e!=s&&e-1!=s&&e+1!=s)}positionImage({xCoeff:t,yCoeff:e}){const i=1,s=this.activeImg[0].children[0];s.style.setProperty("transform",`\n      translateX(${i*-t}em)\n      translateY(${i*e}em)\n    `)}onDotClick({target:t}){if(this.inTransit)return;const e=t.closest(".slider__nav-dot");if(!e)return;const i=e.dataset.id,s=this.activeImg[0].dataset.id;s!=i&&this.startTransition(i)}transitionItem(t){function e(t){t.stopPropagation(),c.classList.remove(m),i.inTransit=!1,this.className=o,this.removeEventListener("transitionend",e)}const i=this,s=this.el,n=this.activeImg[0],a=n.dataset.id,o=this.IMG_CLASS,r=this.TEXT_CLASS,d=this.ACTIVE_IMG_CLASS,l=this.ACTIVE_TEXT_CLASS,h=`${o}--subactive`,m=`${o}--transit`,c=s.querySelector(`.${o}[data-id='${t}']`),u=s.querySelector(`.${r}[data-id='${t}']`);let g="",p="";this.animationStopped=!0,u.classList.add(l),s.style.setProperty("--from-left",t),n.classList.remove(d),n.classList.add(h),a<t?(g=`${o}--next`,p=`${o}--prev`):(g=`${o}--prev`,p=`${o}--next`),c.classList.add(g),requestAnimationFrame(()=>{c.classList.add(m,d),c.classList.remove(g),this.animationStopped=!1,this.positionImage(this.getMouseCoefficients()),n.classList.add(m,p),n.addEventListener("transitionend",e)}),this.isMobile||this.switchBackgroundImage(t)}startTransition(t){function e(i){i.pseudoElement||(i.stopPropagation(),requestAnimationFrame(()=>{n.transitionItem(t)}),this.removeEventListener("transitionend",e))}if(this.inTransit)return;const i=this.activeText[0],s=`${this.TEXT_CLASS}--backwards`,n=this;this.inTransit=!0,i.classList.add(s),i.classList.remove(this.ACTIVE_TEXT_CLASS),i.addEventListener("transitionend",e),requestAnimationFrame(()=>{i.classList.remove(s)})}next(){if(this.inTransit)return;let t=+this.activeImg[0].dataset.id+1;t>this.length&&(t=1),this.startTransition(t)}prev(){if(this.inTransit)return;let t=+this.activeImg[0].dataset.id-1;t<1&&(t=this.length),this.startTransition(t)}switchBackgroundImage(t){function e(t){t.target===this&&(this.style.setProperty("--img-prev",n),this.classList.remove(i),this.removeEventListener("transitionend",e))}const i="slider--bg-next",s=this.el,n=`url(${this.images[+t-1].src})`;s.style.setProperty("--img-next",n),s.addEventListener("transitionend",e),s.classList.add(i)}}const sliderEl=document.getElementById("slider"),slider=new Slider(sliderEl);let timer=0;sliderEl.addEventListener("mousemove",stopAutoSlide),sliderEl.addEventListener("touchstart",stopAutoSlide),timer=setTimeout(autoSlide,11e3);